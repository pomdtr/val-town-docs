---
title: Vals
generated: 1701279907985
lastUpdated: 2023-12-22
---

The vals endpoints allow you to manipulate vals.

## POST `/v1/vals`

Create a new val

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
  body: JSON.stringify({
    name: "myNewVal",
    code: "const two = 1 + 1;",
    readme: "Lorem ipsum dolor sit amet.",
    privacy: "public",
  }),
}));
`.trim()} />

## PUT `/v1/vals`

Create or update a val by name and code.

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e", {
  method: "PUT",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
  body: JSON.stringify({
    name: "myNewVal",
    code: "const two = 2;",
  }),
}));
`.trim()} />

## GET `/v1/vals/{val_id}`

Get val by id.

<vt-playground code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e"));
`.trim()} />

## DELETE `/v1/vals/{val_id}`

Delete a val.

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e", {
  method: "DELETE",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
}));
`.trim()} />

## GET `/v1/vals/{val_id}/versions`

List versions of a val

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/0cfbf317-18a4-4da5-b887-b75bb8a33108/versions", {
  headers: {
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
}));
`.trim()} />

## POST `/v1/vals/{val_id}/versions`

Create a new version of a val

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e/versions", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
  body: JSON.stringify({
    code: "const two = 2;",
  }),
}));
`.trim()} />

## GET `/v1/vals/{val_id}/versions/{version}`

Get a specific version of a val

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e/versions/1", {
  headers: {
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
}));
`.trim()} />

## DELETE `/v1/vals/{val_id}/versions/{version}`

Delete a val version.

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e/versions/1", {
  method: "DELETE",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
}));
`.trim()} />

## GET `/v1/vals/{val_id}/runs`

List runs of a val.

<vt-playground disabled code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e/runs", {
  headers: {
    "Authorization": "Bearer " + Deno.env.get("valtown"),
  },
}));
`.trim()} />
