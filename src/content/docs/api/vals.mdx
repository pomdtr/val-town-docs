---
title: Vals
generated: 1701279907985
lastUpdated: 2023-12-22
---

The vals endpoints allow you to manipulate vals.

## POST `/v1/vals`

Create a new val

<vt-playground disabled code={`
import { createVal } from "https://esm.town/v/nbbaier/createVal";

console.log(await createVal({
  token: Deno.env.get("valtown"),
  name: "myNewVal",
  code: "const two = 1 + 1;",
  readme: "Lorem ipsum dolor sit amet.",
  privacy: "public",
}));
`.trim()} />

## PUT `/v1/vals`

Create or update a val by name and code.

<vt-playground disabled code={`
import { updateValByName } from "https://esm.town/v/nbbaier/updateValByName";

console.log(await updateValByName({
  token: Deno.env.get("valtown"),
  name: "myNewVal",
  code: "const two = 2;",
}));
`.trim()} />

## GET `/v1/vals/{val_id}`

Get val by id.

<vt-playground code={`
import { fetchJSON } from "https://esm.town/v/stevekrouse/fetchJSON";

console.log(await fetchJSON("https://api.val.town/v1/vals/7f9019e4-dbf8-4ebe-b8cd-67730697624e"));
`.trim()} />

## DELETE `/v1/vals/{val_id}`

Delete a val.

<vt-playground disabled code={`
import { deleteVal } from "https://esm.town/v/neverstew/deleteVal";

console.log(await deleteVal({
  token: Deno.env.get("valtown"),
  id: "1f32d4c1-332e-4135-889f-8df408924a9d",
}));
`.trim()} />

## GET `/v1/vals/{val_id}/versions`

List versions of a val

<vt-playground disabled code={`
import { valVersions } from "https://esm.town/v/neverstew/valVersions";

console.log(await valVersions({
  token: Deno.env.get("valtown"),
  id: "0cfbf317-18a4-4da5-b887-b75bb8a33108",
}));
`.trim()} />

## POST `/v1/vals/{val_id}/versions`

Create a new version of a val

<vt-playground disabled code={`
import { createValVersion } from "https://esm.town/v/neverstew/createValVersion";
import { val as val2 } from "https://esm.town/v/neverstew/val";

console.log(await (() =>
  val2({
    token: Deno.env.get("valtown"),
    id: "543ae134-636f-43a7-bd7f-f766a3d52b47",
  })
    .then((val) => ({ id: val.id, code: val.code }))
    .then(({ id, code }) =>
      createValVersion({
        token: Deno.env.get("valtown"),
        code: \`// my inserted comment
      \${code}\`,
        valId: id,
      })
    ))());
`.trim()} />

## GET `/v1/vals/{val_id}/versions/{version}`

Get a specific version of a val

<vt-playground disabled code={`
import { valVersion } from "https://esm.town/v/neverstew/valVersion";

console.log(await valVersion({
  token: Deno.env.get("valtown"),
  id: "7f9019e4-dbf8-4ebe-b8cd-67730697624e",
  version: 4,
}));
`.trim()} />

## DELETE `/v1/vals/{val_id}/versions/{version}`

Delete a val version.

<vt-playground disabled code={`
import { deleteValVersion } from "https://esm.town/v/neverstew/deleteValVersion";

export let deleteValVersionExample = deleteValVersion({
  token: Deno.env.get("valtown"),
  id: "543ae134-636f-43a7-bd7f-f766a3d52b47",
  version: 1,
});
`.trim()} />

## GET `/v1/vals/{val_id}/runs`

<vt-playground disabled code={`
import { valRuns } from "https://esm.town/v/neverstew/valRuns";

console.log(await valRuns({
  token: Deno.env.get("valtown"),
  id: "ae941dc9-97e5-4e2e-a25a-e07b733230ae",
  limit: 1,
  offset: 1,
}));
`.trim()} />
